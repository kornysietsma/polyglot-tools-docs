{"componentChunkName":"component---node-modules-rocketseat-gatsby-theme-docs-core-src-templates-docs-query-js","path":"/metrics/temporal-coupling/","result":{"data":{"mdx":{"id":"e4bc3aa5-bf54-5188-9deb-9be146787897","excerpt":"Visualising Temporal Coupling (back to  metrics overview ) Note that  this has significantly changed in March 2021  - the earlier version had issues, I'm hopingâ€¦","fields":{"slug":"/metrics/temporal-coupling/"},"frontmatter":{"title":"","description":null,"image":null,"disableTableOfContents":null},"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"visualising-temporal-coupling\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h1\"\n  }, {\n    \"href\": \"#visualising-temporal-coupling\",\n    \"aria-label\": \"visualising temporal coupling permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Visualising Temporal Coupling\"), mdx(\"p\", null, \"(back to \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/metrics/overview\"\n  }), \"metrics overview\"), \")\"), mdx(\"p\", null, \"Note that \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"this has significantly changed in March 2021\"), \" - the earlier version had issues, I'm hoping this one is more useful.\"), mdx(\"p\", null, \"This is based on ideas from Adam Tornhill's books, plus some research - it tries to work out when files might be tightly coupled to each other, based on when the files change in git.  Adam calls this \\\"Temporal Coupling\\\".\"), mdx(\"p\", null, \"If you show the coupling controls and then show coupling, you'll see a display like this:\"), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"70.83333333333333%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAADSElEQVQoz2NgYBBnZBRnYBDm51extw90cAhydAjR0LCSllYTElRKTy9au3bz5MmzFy1cZW7uycDAz8QEVCwG1MXAIMHAyiorIKDGyaXk6Bh08dLlY8dPXrh2Ojm9g4EhiYGhsKJ83927V/bt2X7zzmXvoGwGRiVZGQM2NhUGBnlGRgkGB/sAW1t/FTVbIyPX2sZJpfXdM7oORTje1OXcIsA4qy1099bpZ7ubzi+ZdtnCPoaBU8/dLZSVVY6RURqkWV3diptbkYlJkplJioFNQVU41Z33cCrTtmU89Tbcl/XZtikxnOJnuCnLcFWOq5aZV0NTw0ZERJOZWRKohUFKyiAkOKGqts/JI5af38qX83Ag//5inoWzBLoMea8KM18QZrnHzfxUg+WQNu8OSTFze4cANTVLBgZRFmZpBjUVc2MjZze3KFMrN2nhYgumO9XsB9Jl1xQpTDfiPmvEckiK5ZQGx35ZlmMxWj0O6j58Inq83Ers7HJsbLIMouLGIuImrCwiPDxiYmw11vxHg8VWx0gujuVbaMu5IoRjozf7LgW2U9LMN315+1T46kTE1FiYZYBu5uZWYtARTnZSbdLUtbCwcJQSmWHJeSSRd02K5HR77rUxvPMzhaeVCc3yEVxqwb7WiXmnDPssOQUdKSlDDg55oOUMAYphdzZf3bB9+8mTB1vrL+qwnUiT3V4n1hjDNyucd7Etz44EgXnFgn2G3Hv1GI9IiXRJyWjw8qiysEizskozREo7nOpd2jNtzoIFi9OSuhyENifwb03mmpsgNDuca1UO59polg0tDFPkGB7wsH8x0YhgZpOAphAgShFUKOMUY2CUFuBW4pE08jKqDxE95M+1qY17mj/r2gDG7SaCW5cbbWg1PmrmtJqZXwsYzgwMklDNyUaS5WZ8wHQXHZG6YdPORSvW7l93rEF3URjDoi72Rc0MCxOcz9w49eTe2UtTZ85nYNNihGiDoDRv6aowAQYGgZTkvD17D61evXndtj0OZvFqrFmx3K2RHDlmRi255ZMKynsikuo4BI3AbobZHBUknZ3AD2SJCKuq6nio6Aep6QVySdgyCpkwC5swiVqwCpuzCFlyyrjJ6AbIabgAnc3ICNUMAKCr5mWmaEW4AAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/a987d1274b11bdd51f801bd5dda3cc66/8ac56/Coupling.webp 240w\", \"/static/a987d1274b11bdd51f801bd5dda3cc66/d3be9/Coupling.webp 480w\", \"/static/a987d1274b11bdd51f801bd5dda3cc66/e46b2/Coupling.webp 960w\", \"/static/a987d1274b11bdd51f801bd5dda3cc66/f992d/Coupling.webp 1440w\", \"/static/a987d1274b11bdd51f801bd5dda3cc66/e7b51/Coupling.webp 1794w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/a987d1274b11bdd51f801bd5dda3cc66/8ff5a/Coupling.png 240w\", \"/static/a987d1274b11bdd51f801bd5dda3cc66/e85cb/Coupling.png 480w\", \"/static/a987d1274b11bdd51f801bd5dda3cc66/d9199/Coupling.png 960w\", \"/static/a987d1274b11bdd51f801bd5dda3cc66/07a9c/Coupling.png 1440w\", \"/static/a987d1274b11bdd51f801bd5dda3cc66/e3729/Coupling.png 1794w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"src\": \"/static/a987d1274b11bdd51f801bd5dda3cc66/d9199/Coupling.png\",\n    \"alt\": \"Explorer user interface - coupling\",\n    \"title\": \"Explorer user interface - coupling\",\n    \"loading\": \"lazy\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    }\n  })), \"\\n      \"), \"\\n    \"), \"\\n(NOTE: this is from the older coupling logic, and needs updating!)\"), mdx(\"p\", null, \"The curved lines show which files seem to be temporally coupled to which other files.\"), mdx(\"h2\", {\n    \"id\": \"what-is-coupling\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#what-is-coupling\",\n    \"aria-label\": \"what is coupling permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"What is coupling?\"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://en.wikipedia.org/wiki/Coupling_(computer_programming)\"\n  }), \"Coupling\"), \" is \\\"the degree of interdependence between software modules; a measure of how closely connected two routines or modules are\\\" - generally it is good to avoid tight coupling across large areas of your systems.\"), mdx(\"h3\", {\n    \"id\": \"what-about-temporal-coupling\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#what-about-temporal-coupling\",\n    \"aria-label\": \"what about temporal coupling permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"What about \\\"temporal coupling\\\"?\"), mdx(\"p\", null, \"Temporal coupling is a concept I foundin Adam Tornhill's books - the idea is that you can potentially detect coupling by looking at what files change at the same time.  If almost if almost every time someone changes \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"WidgetLogic.rs\"), \", they also have to change \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"WidgetDisplay.ts\"), \" in a different module, then maybe those two files are tightly coupled.\"), mdx(\"p\", null, \"If the files are in one source code repository, you can just check if they are in the same commit; but I wanted to extend the same idea to large codebases where you might have code split across multiple repositories.  This mostly comes from working in microservices architectures, where in theory services should be independantly deployable - but in practice, quite often people build \\\"distributed monoliths\\\" where services are actually tightly coupled.\"), mdx(\"p\", null, \"Because temporal coupling is just about looking for \\\"files that change around the same time\\\", you can use this across multiple repositories - thought you have to allow a bit more flexibility around times - \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"WidgetLogic.rs\"), \" might be committed at 11am, and then this causes a build breakage and someone has to commit a fix to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"WidgetDisplay.ts\"), \" at 11:30 to fix it...\"), mdx(\"h2\", {\n    \"id\": \"limitations-and-caveats\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#limitations-and-caveats\",\n    \"aria-label\": \"limitations and caveats permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Limitations and caveats\"), mdx(\"h3\", {\n    \"id\": \"sometimes-it-works-sometimes-less-so\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#sometimes-it-works-sometimes-less-so\",\n    \"aria-label\": \"sometimes it works sometimes less so permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Sometimes it works, sometimes less so\"), mdx(\"p\", null, \"There is a lot of \\\"it depends\\\" here - I've seen some examples where this looks useful; I've also seen repositories where it is next to useless.  I'd love to do more digging.  A \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"lot\"), \" depends on how active your codebase is, and how tight your feedback loops are.  If you have 10 teams committing to 10 different areas of code at the same time, there is going to be far too much noise to find the coupling, at least with my techniques.  Maybe something that did more subtly things could pick up patterns of information, but it's beyond my little programs for now.\"), mdx(\"p\", null, \"So you might get false positives; it also might miss genuine coupling.  It only looks at per-file stats - and I tend to filter out coupling that isn't in the 75% or more scale.  So you might have two services that are actually quite coupled which never hit that 75% ratio so aren't visible.\"), mdx(\"h3\", {\n    \"id\": \"it-can-be-very-very-slow\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#it-can-be-very-very-slow\",\n    \"aria-label\": \"it can be very very slow permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"It can be very very slow\"), mdx(\"p\", null, \"The algorithm used is slow - it's worse than O(n) vs number of commits, might get towards O(n^2).  Basically it looks at every cluser of commits for a file, then finds all other commits on any other file in the same time window, and builds up stats.  For a large busy repo, that data can get very large.  I've seen the algorithm take 10 hours to run on the Spring sourcecode.  (This might be just ineffecient memory management and lots of swapping - I haven't had the chance to profile it properly yet)\"), mdx(\"h3\", {\n    \"id\": \"the-data-files-can-be-too-big-to-be-manageable\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#the-data-files-can-be-too-big-to-be-manageable\",\n    \"aria-label\": \"the data files can be too big to be manageable permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"The data files can be too big to be manageable\"), mdx(\"p\", null, \"Because you can get a lot of false positives, the data can grow quite significantly.  Initially I was following my usual philosophy, of storing a lot of data and then trimming it in the User Interface - but quickly I found that coupling data got huge.  Now I do a lot of filter in in the scanner first - but still, the data can get beyond the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"node.js\"), \" size limit for a JSON file (2 gigabytes).\"), mdx(\"p\", null, \"I suggest if you want to use this on a lot of code, you start with a small time scale - maybe only the last year of data - get the scanning parameters right, then re-run the scan with more data.\"), mdx(\"h3\", {\n    \"id\": \"you-need-to-tweak-the-parameters-for-your-coding-patterns\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#you-need-to-tweak-the-parameters-for-your-coding-patterns\",\n    \"aria-label\": \"you need to tweak the parameters for your coding patterns permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"You need to tweak the parameters for your coding patterns\"), mdx(\"p\", null, \"There is more on this below - but if you have developers checking in occasionally and then gathering feedback via slow-ish continuous integration systems, you might need to set parameters which allow for larger time overlaps.  If you have a lot of developers checking in regularly and tight feedbacks, you might need to set those values lower.  There is no good \\\"one size fits all\\\" default parameters here; and this is annoying given how slow it is to get results.\"), mdx(\"h2\", {\n    \"id\": \"how-does-the-algorithm-work\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#how-does-the-algorithm-work\",\n    \"aria-label\": \"how does the algorithm work permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"How does the algorithm work?\"), mdx(\"p\", null, \"Consider this sequence of changes:\"), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"435px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"123.75%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAIAAAC+dZmEAAAACXBIWXMAAAsSAAALEgHS3X78AAAC3UlEQVQ4y41UyW7bMBD1//9FD01R5NBbgaJOkGZB0qZxnHjVvluLRa2UKIkUXcqyZTkLUpomBiRn3uPTzAyqEKz5Gd28Pbp9Smm7tkY7Bomxmn4fvuGENxRv7XpDq16Y3hgUfgQWSofSBo7VZSheuc9XzmwCuBt/fmEvZmw/MeexrXWcBqooqYLUg2x+q+XtZHRyf/Z5fnn2/PvLw9Wn8eU5O+X/fJvd/ewwBhBCz3biOIZJCtM0jeI0SbIoji03AWGBEPSDwHJQjthtZsMgOtBm/8jx5AWnC7K84BVO4CYzuA6Q6eGy2r0Ek911Ujfz4Exp7PorzbB1g/F3TcuQFXnOgYUcrUGjF8akKNvbdYXZPEIObU8TJU2QTEVtjTKB/lRIts60ruuWArMxObBokVM/XK+cwPGA7XrWytHNTVlFohGBoCjLoij6zlvk3XcbNIF7TLrBHCxJNQTZ1YwyiHGWY5hDzaa4R7tl1SROXdO6XeuGbFFt6O7Td8js8fx0xs8XiiwbhvEuMmWbe2e6v4DTLOS1zA9LVGBCGsHWuiXOlrogCdO5yglZGBNUlGGKIcIZQm5AMnRQOy96gtW0gjlLhjJvZoUKUmFKapKjBrCmUHeAau7okGO13xVsTxujAlg2i1YRUm/Vph87l3izLz9H0ZUlb8lqLJsb8gqZ9mq1XRuFX6udIaaOxAuKogAAPqbdOrcRmdr+XEo9P4dwr7btKLJi6oYkiLZpiYLAdkgM6StkZtRZT20mLKuh2PMTP4g8AEEYuuumDJdyGoRdbu/ewjQjx7ndr7IWii2p7UM/2mZLTeC+qhCmZS89JVFURPFFzwulyXoxXI3OrKeRNz93xj+M50d24nCXNv/YAQxiTePOh/RlG7qbPZ0+XHxd3lxM/56Ob0+ern+xU3U85Ec3hzaUuUC6vu+CtWuZodgFrA1VRcnIR67PCrNRuyK430mQHwJB2/zvOOrA/wD545pBGEarqQAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/43c886592c1151f4eac5cc6834d038b6/8ac56/coupling_sequence.webp 240w\", \"/static/43c886592c1151f4eac5cc6834d038b6/267d1/coupling_sequence.webp 435w\"],\n    \"sizes\": \"(max-width: 435px) 100vw, 435px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/43c886592c1151f4eac5cc6834d038b6/8ff5a/coupling_sequence.png 240w\", \"/static/43c886592c1151f4eac5cc6834d038b6/330eb/coupling_sequence.png 435w\"],\n    \"sizes\": \"(max-width: 435px) 100vw, 435px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"src\": \"/static/43c886592c1151f4eac5cc6834d038b6/330eb/coupling_sequence.png\",\n    \"alt\": \"coupling sequence diagram\",\n    \"title\": \"coupling sequence diagram\",\n    \"loading\": \"lazy\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    }\n  })), \"\\n      \"), \"\\n    \")), mdx(\"p\", null, \"The scanner first aggregates a list of all changes to every file in git history.  (It uses \\\"commit date\\\" not \\\"author date\\\" if that helps!)\"), mdx(\"p\", null, \"Rather than treating the three changes to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"foo.rs\"), \" as three distinct activities, the scanner clumps these together as an 'activity burst' - you can tweak the clumping by setting the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"coupling-min-activity-gap-minutes\"), \" parameter in the scanner - here a value of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"120\"), \" would mean these are treated as one activity as there is no significant gap, but the 3pm commit would show up as a second activity.\"), mdx(\"p\", null, \"It then looks for all other file changes that are near that activity window (11am to 12pm in the diagram) - again, you can configure what \\\"near\\\" means with the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"coupling-time-overlap-minutes\"), \" parameter, the default is 60 minutes. In this example there is one other file change in this time, to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"foo.ts\"), \".  (If you have long feedback cycles you can increate this )\"), mdx(\"p\", null, \"This aggregation is repeated for every single set of nearly-simultaneous commits!  This is a slow brute-force approach, if anyone has clever ideas for shortcutting this I'd love to know - currently the logic is basically:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"for every file in your code\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"for every burst of commits to that file\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"for every \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"other\"), \" file that changes during that burst\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"if the files are not filtered out\"))))))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"count a potential coupling between the files\")), mdx(\"p\", null, \"This can obviously take a long long time.  And generates a lot of data - most of which is then filtered away.\"), mdx(\"h3\", {\n    \"id\": \"coupling-ratio\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#coupling-ratio\",\n    \"aria-label\": \"coupling ratio permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Coupling ratio\"), mdx(\"p\", null, \"A key concept here is the 'coupling ratio' - if \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"foo.rs\"), \" changes 100 times, and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"foo.ts\"), \" changes during 85 of those time windows, then \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"foo.rs\"), \" has a coupling ratio of 0.85 to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"foo.ts\")), mdx(\"p\", null, \"Note this is a unidirectional relationship - because \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"foo.ts\"), \" might have changed a lot in totally unrelated ways.  If \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"foo.ts\"), \" has changed another 50 times, it won't affect the coupling above, but it might mean a much lower coupling in the other direction (in plainer English - \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"foo.rs\"), \" can't change without a risk of breaking \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"foo.ts\"), \" but the reverse might not be true)\"), mdx(\"h2\", {\n    \"id\": \"filtering-the-results\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#filtering-the-results\",\n    \"aria-label\": \"filtering the results permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Filtering the results\"), mdx(\"p\", null, \"A lot of coupling information is noise - and to keep file sizes down, a lot is filtered in the scanner.  You can tweak these filters if you want more data to play with, but beware, file sizes can get very large very fast.\"), mdx(\"h3\", {\n    \"id\": \"filtering-by-ratio\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#filtering-by-ratio\",\n    \"aria-label\": \"filtering by ratio permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Filtering by ratio\"), mdx(\"p\", null, \"First, coupling data is filteres by the coupling ratio - we don't care if file \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"foo.js\"), \" happens to change 3 times when \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"bar.js\"), \" changed 500 times!  You can set this using the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"coupling-min-ratio\"), \" parameter in teh scanner - the default is \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"0.8\"), \" or 80%.  You can lower this, and then adjust filtering in the UI, but file sizes could get large very quickly. Or raise it if you only care about very high coupling.\"), mdx(\"h3\", {\n    \"id\": \"minimum-activity\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#minimum-activity\",\n    \"aria-label\": \"minimum activity permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Minimum activity\"), mdx(\"p\", null, \"I also filter out files which just don't change much.  If a file changes less than 10 times in 3 months, then it might not really be significant data.  This is mostly to get rid of a long tail of noise - you can lower this to 1 if you don't want/trust this filter.  \"), mdx(\"h3\", {\n    \"id\": \"filtering-by-distance\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#filtering-by-distance\",\n    \"aria-label\": \"filtering by distance permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Filtering by distance\"), mdx(\"p\", null, \"One other optimisation that is done is to filter out files that are \\\"close\\\" in the file structure.\"), mdx(\"p\", null, \"This used to happen in the User Interface only, but file sizes got extreme in some cases - and generally you don't care much if files that are in the same directory are coupled.  You might if you have a very flat structure, in which case you can turn this filtering off.\"), mdx(\"p\", null, \"'distance' is actually calculated and filtered in two ways - \\\"distance\\\" and \\\"common roots\\\".  (This is a bit redundant, but each seems useful in different scenarios)\"), mdx(\"p\", null, \"An example might help - from the qgis source code you have folders like\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"src\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"analysis\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"qgsanalysis.cpp\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"qgsanalysis.h\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"processing\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"qgisalgorithmgrid.cpp\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"qgisalgorithmgrid.h\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"network\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"qgsgraph.cpp\"))))))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"python\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"core\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"auto_generated\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"processing\"))))))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"qgis.sip.in\")), mdx(\"h3\", {\n    \"id\": \"distance\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#distance\",\n    \"aria-label\": \"distance permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Distance\"), mdx(\"p\", null, \"Distance is a lot like a family tree:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Siblings are distance 1.  So \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"qgsanalysis.cpp\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"qgsanalysis.h\"), \" are distance 1\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Cousins are distance 2.  So \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"qgsanalysis.cpp\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"qgsgraph.cpp\"), \" are distance 2 - they have a grandparent \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"analysis\"), \" in common.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Uncle/Aunt relationships are just treated based on the lowest descendant - so \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"qgsanalysis.cpp\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"qgisalgorithmgrid.cpp\"), \" are treated as distance 2, as they also have a grandparent \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"analysis\"), \" in common\")), mdx(\"p\", null, \"Files with no common ancestor don't have a distance - they are always included.  So \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"qgis.sip.in\"), \" is an undefined distance from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"qgsanalysis.cpp\"), \".  (I don't treat the root as a real ancestor)\"), mdx(\"p\", null, \"The scanner parameter is \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"coupling-min-distance\"), \" and the default is \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"3\"), \" - so here all the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"cpp\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"h\"), \" files wouldn't track coupling, as they are too closely related.\"), mdx(\"h3\", {\n    \"id\": \"common-ancestors\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#common-ancestors\",\n    \"aria-label\": \"common ancestors permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Common ancestors\"), mdx(\"p\", null, \"The other filter is more top-down - the scanner parameter \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"coupling-max-common-roots\"), \" just sets a maximum on common file parameters.  The default is \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"None\"), \" or not set.\"), mdx(\"p\", null, \"If you set it to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"1\"), \" it would mean \\\"files can be coupled if they share a single root ancestor, but not more\\\".  So \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src/analysis/foo.cpp\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src/processing/bar.cpp\"), \" have one root in common, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src\"), \" so are kept, but \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src/analysis/foo.cpp\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src/analysis/bar.cpp\"), \" have two roots in common and would not be kept.\"), mdx(\"p\", null, \"These two filters are both applied if both parameters are set. A coupling relationship must meet both filters to avoid being discarded when files are saved.\"), mdx(\"h2\", {\n    \"id\": \"buckets-and-bucket-sizes\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#buckets-and-bucket-sizes\",\n    \"aria-label\": \"buckets and bucket sizes permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Buckets and bucket sizes\"), mdx(\"p\", null, \"One concept I've skimmed over above is the idea of \\\"buckets\\\".  \"), mdx(\"p\", null, \"The Explorer tries to show file data over time - but coupling data needs to be aggregated over some time to have any meaning.  But if I just aggregated all data over all time, you'd have no way to see if coupling changed over the life of a project.\"), mdx(\"p\", null, \"So instead, I arbitrarily divide the time scale up into \\\"buckets\\\" - by default, these are 3 months (well, 91 days) long.  If you have a project going from February to September it will roughly be divided into Jan -> Mar, Apr->Jun, Jul->Sep (the buckets are chosen so the last bucket is the full 3 months, as this is probably the time you care most about)\"), mdx(\"p\", null, \"When you view a year in the Explorer, it actually picks up all the buckets in that year and merges the data together.  So there are some strange effects where the time selected looks quite different from the buckets selected - I probably need to add indicators to the date selector to make this more obvious!\"), mdx(\"h2\", {\n    \"id\": \"all-scanner-command-line-parameters\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#all-scanner-command-line-parameters\",\n    \"aria-label\": \"all scanner command line parameters permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"All scanner command-line parameters\"), mdx(\"p\", null, \"When you run \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"polyglot-code-scanner -h\"), \" you get a bit of help, which lists all the parameters above:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"-c, --coupling   include coupling data\\n--coupling-bucket-days <bucket-days>\\n    Number of days in a single \\\"bucket\\\" of coupling activity [default: 91]\\n--coupling-min-activity-gap-minutes <min-activity-gap-minutes>\\n    what is the minimum gap between activities in a burst? a sequence of commits with no gaps this long is\\n    treated as one burst [default: 120]\\n--coupling-time-overlap-minutes <min-overlap-minutes>\\n    how far before/after an activity burst is included for coupling? e.g. if I commit Foo.c at 1am, and Bar.c at\\n    2am, they are coupled if an overlap of 60 minutes or longer is specified [default: 60]\\n--coupling-min-ratio <min-coupling-ratio>\\n    The minimum ratio of (other file changes)/(this file changes) to include a file in coupling stats [default:\\n    0.75]\\n--coupling-max-common-roots <coupling-max-common-roots>\\n    The maximum number of common ancestors to include in coupling e.g. \\\"foo/src/controller/a.c\\\" and\\n    \\\"foo/src/service/b.c\\\" have two common ancestors, if you set this value to 3 they won't show as coupled\\n--coupling-min-distance <coupling-min-distance>\\n    The minimum distance between nodes to include in coupling 0 is all, 1 is siblings, 2 is cousins and so on.\\n    so if you set this to 3, cousins \\\"foo/src/a.rs\\\" and \\\"foo/test/a_test.rs\\\" won't be counted as their distance\\n    is 2 [default: 3]\\n--coupling-min-bursts <min-activity-bursts>\\n    If a file has fewer bursts of change than this in a bucket, don't measure coupling from it [default: 10]\\n\")), mdx(\"h2\", {\n    \"id\": \"viewing-coupling-in-the-explorer\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#viewing-coupling-in-the-explorer\",\n    \"aria-label\": \"viewing coupling in the explorer permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Viewing coupling in the Explorer\"), mdx(\"p\", null, \"TODO!\"));\n}\n;\nMDXContent.isMDXComponent = true;","headings":[{"depth":1,"value":"Visualising Temporal Coupling"},{"depth":2,"value":"What is coupling?"},{"depth":3,"value":"What about \"temporal coupling\"?"},{"depth":2,"value":"Limitations and caveats"},{"depth":3,"value":"Sometimes it works, sometimes less so"},{"depth":3,"value":"It can be very very slow"},{"depth":3,"value":"The data files can be too big to be manageable"},{"depth":3,"value":"You need to tweak the parameters for your coding patterns"},{"depth":2,"value":"How does the algorithm work?"},{"depth":3,"value":"Coupling ratio"},{"depth":2,"value":"Filtering the results"},{"depth":3,"value":"Filtering by ratio"},{"depth":3,"value":"Minimum activity"},{"depth":3,"value":"Filtering by distance"},{"depth":3,"value":"Distance"},{"depth":3,"value":"Common ancestors"},{"depth":2,"value":"Buckets and bucket sizes"},{"depth":2,"value":"All scanner command-line parameters"},{"depth":2,"value":"Viewing coupling in the Explorer"}]}},"pageContext":{"slug":"/metrics/temporal-coupling/","next":{"label":"Introduction","link":"/"},"githubEditUrl":"https://github.com/kornysietsma/polyglot-tools-docs/tree/master/src/docs/metrics/temporal-coupling.mdx"}},"staticQueryHashes":["1954253342","2328931024","2501019404","973074209"]}