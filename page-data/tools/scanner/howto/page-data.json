{"componentChunkName":"component---node-modules-rocketseat-gatsby-theme-docs-core-src-templates-docs-query-js","path":"/tools/scanner/howto/","result":{"data":{"mdx":{"id":"50f81b36-2530-5ce5-88a6-a5c1b27a3de5","excerpt":"The code scanner is a rust command-line program - which means applications are compiled executable binary files, which you run from a text command-line. Thereâ€¦","fields":{"slug":"/tools/scanner/howto/"},"frontmatter":{"title":"How to run the Polyglot Code Scanner","description":null,"image":null,"disableTableOfContents":null},"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"How to run the Polyglot Code Scanner\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"The code scanner is a rust command-line program - which means applications are compiled executable binary files, which you run from a text command-line.\"), mdx(\"p\", null, \"There are two ways to run the scanner - download a binary executable for your platform, or build it yourself from source.\"), mdx(\"h2\", {\n    \"id\": \"fetching-binary-releases\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#fetching-binary-releases\",\n    \"aria-label\": \"fetching binary releases permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Fetching binary releases\"), mdx(\"p\", null, \"Binary releases are \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"no longer\"), \" being published to \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/kornysietsma/polyglot-code-scanner/releases\"\n  }), \"https://github.com/kornysietsma/polyglot-code-scanner/releases\"), \"  - the old docs for binary releases are moved for now to \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/tools/scanner/binaries-howto/\"\n  }), \"here\"), \".\"), mdx(\"p\", null, \"You should be able to download the right file for your platform here.  Note I haven't tested this at all on Windows yet!  And I only have a single generic build for linux x86 and OSX - I can add more if there's demand.\"), mdx(\"h2\", {\n    \"id\": \"fetching-code-and-compiling-a-binary\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#fetching-code-and-compiling-a-binary\",\n    \"aria-label\": \"fetching code and compiling a binary permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Fetching code and compiling a binary\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Get rust and cargo - instructions are at \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.rust-lang.org/tools/install\"\n  }), \"https://www.rust-lang.org/tools/install\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Clone or fork the project from \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/kornysietsma/polyglot-code-scanner\"\n  }), \"https://github.com/kornysietsma/polyglot-code-scanner\")), mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Or you can fetch the source code for a particular release from \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/kornysietsma/polyglot-code-scanner/releases\"\n  }), \"https://github.com/kornysietsma/polyglot-code-scanner/releases\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"test and build with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"cargo\"), \" the rust packaging tool:\"))), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-sh\"\n  }), \"$ cargo test\\n# ... maybe some warnings but hopefully no failures\\n$ cargo build --release\\n# ... lots of messages and noise - compiling can be slow\\n$ ls -l target/release\\ntotal 14368\\ndrwxr-xr-x  125 korny  staff     4000 28 Jul 15:09 build\\ndrwxr-xr-x  891 korny  staff    28512 28 Jul 15:11 deps\\ndrwxr-xr-x    2 korny  staff       64 20 Jun 15:20 examples\\ndrwxr-xr-x    2 korny  staff       64 20 Jun 15:20 incremental\\n-rw-r--r--    1 korny  staff     1003 29 Jun 14:45 libpolyglot_code_scanner.d\\n-rw-r--r--    2 korny  staff  3062736 28 Jul 15:11 libpolyglot_code_scanner.rlib\\n-rwxr-xr-x    2 korny  staff  4280600 28 Jul 15:11 polyglot_code_scanner\\n-rw-r--r--    1 korny  staff     1063 29 Jun 14:45 polyglot_code_scanner.d\\n\\n$ target/release/polyglot_code_scanner -V\\npolyglot_code_scanner 0.3.3\\n\")), mdx(\"p\", null, \"All you need to care about is the binary \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"polyglot_code_scanner\"), \" - that's what you need to run.  You can run it from the target directory or copy it somewhere useful.\"), mdx(\"p\", null, \"(You can also run the project with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"cargo run\"), \" but that's slower as it runs with debugging and without a lot of optimisation)\"), mdx(\"h2\", {\n    \"id\": \"running-it\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#running-it\",\n    \"aria-label\": \"running it permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Running it\"), mdx(\"p\", null, \"You can run \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"polyglot_code_scanner -h\"), \" for command-line help.\"), mdx(\"p\", null, \"Usually you will just run:\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"polyglot_code_scanner --name <projectname> --coupling -o json_file_name.json <source directory>\")), mdx(\"h3\", {\n    \"id\": \"important-options\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#important-options\",\n    \"aria-label\": \"important options permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Important options\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"--name <name>\"), \" - you need to specify a name, so the Explorer can display the name and use it when saving and loading settings to avoid collisions.\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"--years <git_years>\"), \" - scan through this much history.  Git scanning can be slow, and often you only care about the last few years.\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"--coupling\"), \" - enables temporal coupling.  This can be very very slow to calculate - if you don't want it, don't specify this option!  TODO: link to temporal coupling explanation\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"--follow-symlinks\"), \" - allows the scanner to follow symbolic links\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"--no-git\"), \" - do not scan for git information at all - this can speed up processing significantly, and is needed for projects not stored in git\"), mdx(\"h2\", {\n    \"id\": \"handling-multiple-repositories\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#handling-multiple-repositories\",\n    \"aria-label\": \"handling multiple repositories permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Handling multiple repositories\"), mdx(\"p\", null, \"The scanner actually works in terms of directories and subdirectories, rather than really caring too much about git repositories.  (It's even possible to work with code without git data - in theory, though this is probably broken once you try to visualise the results)\"), mdx(\"p\", null, \"So you can store git repositories \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"under\"), \" the scanned root directory - it's quite common to check out every repository for a project as children of the root directory, and then use the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"--circles\"), \" layout option to show those repositories as top-level circles in the explorer.\"), mdx(\"p\", null, \"You can even go deeper - one project I worked on had a nested tree of directories and projects 2 or 3 levels under the root; the scanner handles this just fine.\"), mdx(\"p\", null, \"You can also use symbolic links to your actual repositories - pass the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"--follow-symlinks\"), \" parameter to enable this.  (by default symbolic links are ignored as some repositories use symlinks in strange ways)\"), mdx(\"h2\", {\n    \"id\": \"ignoring-files\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#ignoring-files\",\n    \"aria-label\": \"ignoring files permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Ignoring files\"), mdx(\"p\", null, \"The scanner automatically ignores any files that git ignores, using the standard \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".gitignore\"), \" file mechanisms.\"), mdx(\"p\", null, \"You can also add your own ignore files - at the root, or anywhere in subdirectories - the scanner will look for files called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".polyglot_code_scanner_ignore\"), \" files anywhere in the codebase, the syntax is \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://git-scm.com/docs/gitignore\"\n  }), \"the same as .gitignore's\"), \".\"), mdx(\"p\", null, \"So for example if you want to ignore node.js junk, XML and CSV files you could add a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".polyglot_code_scanner_ignore\"), \" file at the root of your project with the content:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"node_modules/\\npackage-lock.json\\nyarn.lock\\n*.xml\\n*.csv\\n\")), mdx(\"h2\", {\n    \"id\": \"output-file\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#output-file\",\n    \"aria-label\": \"output file permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Output file\"), mdx(\"p\", null, \"See \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/tools/explorer/data-format\"\n  }), \"Data Format\"), \" for a description of the output JSON file format.\"), mdx(\"p\", null, \"It's not pretty printed to save space - if you want it pretty, the easiest thing is to install \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://stedolan.github.io/jq/download/\"\n  }), \"jq\"), \" and run:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-sh\"\n  }), \"jq < file.json | less\\n\")));\n}\n;\nMDXContent.isMDXComponent = true;","headings":[{"depth":2,"value":"Fetching binary releases"},{"depth":2,"value":"Fetching code and compiling a binary"},{"depth":2,"value":"Running it"},{"depth":3,"value":"Important options"},{"depth":2,"value":"Handling multiple repositories"},{"depth":2,"value":"Ignoring files"},{"depth":2,"value":"Output file"}]}},"pageContext":{"slug":"/tools/scanner/howto/","prev":{"label":"How to run the Explorer","link":"/tools/explorer/howto"},"next":{"label":"How to run the Layout","link":"/tools/layout/howto"},"githubEditUrl":"https://github.com/kornysietsma/polyglot-tools-docs/tree/master/src/docs/tools/scanner/howto.mdx"}},"staticQueryHashes":["1954253342","2328931024","2501019404","973074209"]}